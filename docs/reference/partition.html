<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Agglomerative partitioning dimension reduction — partition • partition</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">partition</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/USCbiostats/partition">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Agglomerative partitioning dimension reduction</h1>
    </div>

    
    <p>An agglomerative partitioning strategy is used to reduce the dimensionality
of a dataset that has substantial dependencies among (at least some)
variables. An N x P dataset, with N samples and P variables is reduced to
and N x R dataset, where R &lt; P. The amount of reduction, i.e., the dimension
of the reduced dataset, depends on a user specified information loss
constraint.</p>
    

    <pre class="usage"><span class='fu'>partition</span>(<span class='no'>mymat</span>, <span class='no'>pct.var</span>, <span class='no'>method</span>, <span class='kw'>dist.type</span> <span class='kw'>=</span> <span class='st'>"p"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mymat</th>
      <td><p>Full dataset, NxP matrix or dataframe with N samples in rows
and P variables in columns.</p></td>
    </tr>
    <tr>
      <th>pct.var</th>
      <td><p>Information constraint for reducing each candidate subset of
variables into a single new summary variable. pct.var must be a value in the
interval (0, 1]. For each candidate partition (subset of the variables),
pct.var specifies the minimum proportion of retained information allowable
in the summary variable from the total information contained in all
variables within that subset. Generally, the smaller this value, the fewer
the number of variables in the reduced set. It is possible to reduce the
number of variables without discarding any information at all (pct.var = 1)
if there are multiple variables that have the same values for each
observation.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>This argument determines the method used to compute the new
summary variable and evaluate the proportion of information captured. See
Details for descriptions of each method.</p></td>
    </tr>
    <tr>
      <th>dist.type</th>
      <td><p>The agglomerative approach requires evaluating similarity
between variables. There are two methods currently implemented. "p"
specifies that similarity will be computed as, 1 - cor( mymat,
use="pairwise.complete.obs", method="pearson" ), whereas, "s" will be, 1 -
cor( mymat, use="pairwise.complete.obs", method="spearman" ).</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list which includes the following columns:</p>
<dt> mymat.r </dt><dd><p>A dataset (dataframe) with reduced number of variables,
dimensions N x R.</p></dd>
<dt>clusters </dt><dd><p>A dataset (dataframe) specifying the mapping between the
original variables and the reduced variables. Also included is a column,
pct.var, with estimates of the proportion of information of variables in a
cluster captured by the summary variable.</p></dd>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Clusters are formed and grown using an agglomerative approach, continuing
until the proportion of information explained by the summary variable for
each cluster drops below pct.var. The algorithm proceeds as follows,</p><ol>
<li><p>compute a distance matrix, describing dissimilarity between all pairs
of features</p></li>
<li><p>join nearest two features into a candidate cluster/subset</p></li>
<li><p>compute a summary variable for the candidate cluster</p></li>
<li><p>check whether pct.var of information is captured in the new summary
variable</p></li>
<li><p>if pct.var of information is captured, then replace cluster features
with the summary variable</p></li>
<li><p>update distance matrix</p></li>
<li><p>repeat steps 2-6 until the reduced dataset converges to a stable state</p></li>
</ol>
    <p>In step 4, the amount of information in the new summary variable is
compared against the set of original variable(s), not a summary variable.
The above general algorithm is implemented using a number of different
specific methods for evaluating proportion of information captured and
computing the summary variable,</p><ul>
<li><p>ICC.mn -- Intraclass correlation coefficient (ICC) is used to
estimate the proportion of variance explained by the summary variable which
is generated by taking the mean of values within a cluster.</p></li>
<li><p>ICC.sm -- Same as ICC.mn, but data are transformed before the ICC
computation by log(x + 1) and the summary variable is generated by summing
non-transformed values within a cluster. This version is designed for count
data.</p></li>
<li><p>MI.mn -- Information
captured is evaluated by the standardized mutual information (MI), which is
computed using the infotheo package following discretization of original
variables into approximately nrow(mymat)^(1/3) bins. The summary variable is
the mean.</p></li>
<li><p>MI.sm -- Same as MI.mn, but the summary variable is generated by
summing values within a cluster, designed for count data.</p></li>
<li><p>minR2.mn -- Information captured is evaluated by the minimum r-squared
(Pearson correlation) between the summary variable and original variables.
Summary variable is the mean.</p></li>
<li><p>minR2.sm -- Same as minR2.mn but the summary variable is generated
by summing values within a cluster and Spearman correlation is used to
compute r-squared instead of Pearson. This version is designed for count
data.</p></li>
<li><p>PC1 -- The summary variable is the first principal component computed
from variables within the cluster only. Information captured is evaluated
by the percent variation of variables within the cluster explained by this
summary variable.</p></li>
<li><p>PC1.log -- Same as PC1, but data are first log transformed after
adding 1, log(x + 1), designed for count data.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Millstein J, et al.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>

<span class='no'>blk.vec</span> <span class='kw'>=</span> <span class='fl'>2</span>:<span class='fl'>20</span>
<span class='no'>c.lb</span> <span class='kw'>=</span> <span class='fl'>.2</span>
<span class='no'>c.ub</span> <span class='kw'>=</span> <span class='fl'>.4</span>
<span class='no'>n</span> <span class='kw'>=</span> <span class='fl'>200</span>

<span class='no'>dat</span> <span class='kw'>=</span> <span class='fu'><a href='sim_blk_diag_mvn.html'>sim_blk_diag_mvn</a></span>( <span class='no'>blk.vec</span>, <span class='no'>c.lb</span>, <span class='no'>c.ub</span>, <span class='no'>n</span>  )

<span class='no'>rslts</span> <span class='kw'>=</span> <span class='fu'>partition</span>( <span class='no'>dat</span>, <span class='kw'>pct.var</span><span class='kw'>=</span><span class='fl'>.8</span>, <span class='kw'>method</span><span class='kw'>=</span><span class='st'>"PC1"</span>, <span class='kw'>dist.type</span><span class='kw'>=</span><span class='st'>"p"</span> )</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Joshua Millstein

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Joshua Millstein.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
